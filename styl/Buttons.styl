/* Button: Default: Gray */
button,
a.button {
	display: inline-block;
	padding: 0.5em 10*$px;

	border: $px solid rgb(110, 110, 110);
	border-radius: 5*$px;

	gradient($button-gray-gradient);
	
	box-shadow: inset 0 0.05em 0.05em rgba(255, 255, 255, 0.55),
	            inset 0 -0.05em 0.05em rgba(255, 255, 255, 0.15),
	            inset 0.05em 0 0.05em rgba(255, 255, 255, 0.15),
	            inset -0.05em 0 0.05em rgba(255, 255, 255, 0.15),
				0 0 0.125em rgba(0, 0, 0, 1),
				0 0.1em 0.05em rgba(255, 255, 255, 0.35);

	color: $button-text-color;
    font-family: $button-font;
	font-size: 0.875em;
	font-weight: normal;
	text-shadow: 0 -1*$px $px rgba(0, 0, 0, 0.5);
	text-decoration: none; /* Reset underline on a.button */
	text-align: center;
	
	user-select: none;
	
	cursor: pointer;
	
	.badge {
		position: absolute;
		right: -0.75em;
		top: -0.438em;
		z-index: 1;
		
		font-size: 0.8625rem;

		&.left {
			left: -0.75rem;
			right: auto;
		}
	}
	
	&:active {
		gradient($button-gray-down-gradient);
	}
	

	// Large button
	&.large {
	    font-size: 1.5rem;
	    font-weight: bold;
	
		& i {
			font-size: 1.35rem;
			vertical-align: middle;
			line-height: 0.5em;
			margin-right: 0.1em;
		}
	}


	/* Button: blue */
	&.blue {
		border-color: $button-blue-border-color;
	
		gradient-shiny($button-blue-gradient);

		&:active {
			gradient-shiny($button-blue-down-gradient);
		}
	}

	/* Button: green */
	&.green {
		border-color: $button-green-border-color;
	
		gradient-shiny($button-green-gradient);

		&:active {
			gradient-shiny($button-green-down-gradient);
		}
	}
	
	/* Button: black */
	&.black {
		border-color: $button-black-border-color;
	
		gradient($button-black-gradient);

		&:active {
			gradient($button-black-down-gradient);
		}
	}

	/* Button: red */
	&.red {
		border-color: $button-red-border-color;
	
	    gradient-shiny($button-red-gradient);
	
		&:active {
		    gradient-shiny($button-red-down-gradient);
		}
	}


	/* Button: round */
	&.round {
		position: relative;
		border-box();
	
		margin: 0.8em 0 0 0.8em;
		padding: 0;
		width: 1.675em;
		height: 1.675em;
	
		overflow: hidden;
    
		border: 0.175em solid white;
		border-radius: 1em;

		color: white;
		line-height: 1.475em;
		text-align: center;

		box-shadow: 0 0 0.4em rgba(0,0,0,0.5);

		text-shadow: 0 -1*$px 0 rgba(0, 0, 0, 0.2);
	
		i {
			font-size: 1.15rem;
		}

		&.blue {
			gradient($button-round-blue-gradient);
		
			&:active {
			    gradient($button-round-blue-down-gradient);
			}
		}

		&.red {
			gradient($button-round-red-gradient);
		
			&:active {
			    gradient($button-round-red-down-gradient);
			}
		}
		
		&.unlock {
			transition: all 0.075s ease-in;
			
			i {
				font-size: 1rem;
			}

			&.unlocked {
				transform: rotate(-90deg);
				// margin-top: 0.0000001em; // Fix a Chrome bug when toggling the rotation a few times
			}
		}
	}
	
	$arrow-button-radius = 0.35em;
	$arrow-button-triangle-size = 34*$px/2;
	$arrow-button-triangle-skew = -10deg;
	
	&.back,
	&.forward {
		position: relative;
		
		&:before {
			display: block;

			position: absolute;
			z-index: 1;
			
			height: $arrow-button-triangle-size;
			width: $arrow-button-triangle-size;
			
			content: '';
		}
	}
	
	&.back {
		margin-left: 0.65rem !important;
		
		padding-left: 0.5rem !important;
		
		border-top-left-radius: 	$arrow-button-radius !important;
		border-bottom-left-radius: 	$arrow-button-radius !important;
		
		border-left: none;
		
		&:before {
			top: 0.5rem;
			left: -0.5rem;

			transform: translate3d(0,0,0) rotate(-45deg) skew($arrow-button-triangle-skew, $arrow-button-triangle-skew);

			-webkit-mask-image: -webkit-gradient(linear, left top, right bottom,
					from(black),
					color-stop(0.55, black),
					color-stop(0.55, transparent),
					to(transparent));
		
			box-shadow: 0.079rem 0.079rem 0.125rem rgba(0,0,0,0.425) inset;
		}
	}

	&.forward {
		margin-right: 0.65rem !important;
		
		padding-right: 0.5rem !important;
		
		border-top-right-radius: 	$arrow-button-radius !important;
		border-bottom-right-radius: $arrow-button-radius !important;
		
		&:before {
			top: 0.5rem;
			right: -0.5rem + $px; // Add a pixel, otherwise the shadow shows through
		
			transform: translate3d(0,0,0) rotate(-45deg) skew($arrow-button-triangle-skew, $arrow-button-triangle-skew);
			
			-webkit-mask-image: -webkit-gradient(linear, right bottom, left top,
					from(black),
					color-stop(0.55, black),
					color-stop(0.55, transparent),
					to(transparent));
		
			box-shadow: -0.079rem -0.079rem 0.125rem rgba(0,0,0,0.425) inset;
		}
	}


	&:active {
		gradient($header-button-down-gradient);
	}
	
	&.default {
		color: $header-button-default-text-color;
	
		&:active {
			gradient($header-button-default-down-gradient);
		}
	
		&.back:before,
		&.forward:before {
			background-image: -webkit-gradient(linear, left bottom, right top, from($header-button-default-gradient[1]), to($header-button-default-gradient[0]));
		}
		
		&.back:active:before,
		&.forward:active:before {
			background-image: -webkit-gradient(linear, left bottom, right top, from($header-button-default-down-gradient[1]), to($header-button-default-down-gradient[0]));
		}
	}
	
	&.back:before,
	&.forward:before {
		background-image: -webkit-gradient(linear, left bottom, right top, from($header-button-gradient[1]), to($header-button-gradient[0]));
	}
	
	&.back:active:before,
	&.forward:active:before {
		background-image: -webkit-gradient(linear, left bottom, right top, from($header-button-down-gradient[1]), to($header-button-down-gradient[0]));
	}

	/* Button: Disabled */
	&.disabled,
	&:disabled,
	&:disabled:active,
	&.disabled:active {
		border-color: $button-disabled-border-color;

		box-shadow: inset 0 -($px) $px rgba(0, 0, 0, 0.05),
					inset 0 $px 2*$px rgba(0, 0, 0, 0.1);
				
		gradient($button-disabled-gradient);
	
		cursor: default;
	}
}
